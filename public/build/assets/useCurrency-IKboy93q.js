import{r as o}from"./app-BkeQkwCz.js";const y=()=>{const[e,c]=o.useState({code:"ZMW",name:"Zambian Kwacha",symbol:"K",display_name:"Zambian Kwacha (ZMW) - K",decimal_places:2,thousands_separator:",",decimal_separator:".",symbol_position:"before"}),[i,n]=o.useState(!0),[m,u]=o.useState(null);o.useEffect(()=>{s()},[]);const s=async()=>{var r;try{n(!0);const t=await fetch("/api/currency/base",{headers:{Accept:"application/json","Content-Type":"application/json","X-CSRF-TOKEN":(r=document.querySelector('meta[name="csrf-token"]'))==null?void 0:r.getAttribute("content")},credentials:"same-origin"});if(!t.ok)throw new Error(`Failed to fetch currency: ${t.status} ${t.statusText}`);const a=await t.json();if(a.success)c(a.data);else throw new Error(a.message||"Failed to load currency configuration")}catch(t){console.error("Currency fetch error:",t),u(t.message)}finally{n(!1)}};return{currency:e,loading:i,error:m,formatAmount:r=>{if(r==null||isNaN(r))return"N/A";const t=new Intl.NumberFormat("en-US",{minimumFractionDigits:e.decimal_places,maximumFractionDigits:e.decimal_places}).format(r);return e.symbol_position==="before"?e.symbol+t:t+" "+e.symbol},formatAmountWithCode:r=>{if(r==null||isNaN(r))return"N/A";const t=new Intl.NumberFormat("en-US",{minimumFractionDigits:e.decimal_places,maximumFractionDigits:e.decimal_places}).format(r);return e.code+" "+t},currencyCode:e.code,currencySymbol:e.symbol,currencyName:e.name,refreshCurrency:s}};export{y as u};

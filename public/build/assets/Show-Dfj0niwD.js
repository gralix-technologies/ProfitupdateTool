import{j as e,L as i}from"./app-BkeQkwCz.js";import{A as m,c as h,b as o,m as x}from"./AppLayout-QgBVyLMh.js";import{I as j}from"./IconArrowLeft-0rt3x0IP.js";import{I as r}from"./IconCode-DLTX4WmA.js";function p({product:s,categories:N,field_types:v}){var d;const c=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),n=a=>({Loan:"bg-blue",Deposit:"bg-green",Account:"bg-blue-600",Transaction:"bg-orange-500",Other:"bg-gray"})[a]||"bg-secondary",t=a=>({string:"bg-blue-500",number:"bg-green",boolean:"bg-blue-600",date:"bg-orange-500",array:"bg-red",object:"bg-orange-400"})[a]||"bg-secondary";return e.jsxs(m,{title:`Product: ${s.name}`,children:[e.jsx("div",{className:"page-header d-print-none",children:e.jsx("div",{className:"container-xl",children:e.jsxs("div",{className:"row g-2 align-items-center",children:[e.jsxs("div",{className:"col",children:[e.jsx("nav",{"aria-label":"breadcrumb",children:e.jsxs("ol",{className:"breadcrumb",children:[e.jsx("li",{className:"breadcrumb-item",children:e.jsx(i,{href:"/products",children:"Products"})}),e.jsx("li",{className:"breadcrumb-item active","aria-current":"page",children:s.name})]})}),e.jsx("div",{className:"page-pretitle",children:"Product Details"}),e.jsx("h2",{className:"page-title",children:s.name})]}),e.jsx("div",{className:"col-auto ms-auto d-print-none",children:e.jsxs("div",{className:"btn-list",children:[e.jsxs(i,{href:"/products",className:"btn",children:[e.jsx(j,{size:16,className:"me-1"}),"Back to Products"]}),e.jsxs(i,{href:`/products/${s.id}/edit`,className:"btn btn-primary",children:[e.jsx(h,{size:16,className:"me-1"}),"Edit Product"]})]})})]})})}),e.jsx("div",{className:"page-body",children:e.jsx("div",{className:"container-xl",children:e.jsxs("div",{className:"row row-deck row-cards",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h3",{className:"card-title",children:[e.jsx(o,{size:18,className:"me-2"}),"Product Information"]})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Name"}),e.jsx("div",{className:"form-control-plaintext",children:s.name})]})}),e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Description"}),e.jsx("div",{className:"form-control-plaintext",children:s.description||"No description provided"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Category"}),e.jsx("div",{children:e.jsx("span",{className:`badge ${n(s.category)} text-white`,children:s.category})})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Status"}),e.jsx("div",{children:e.jsx("span",{className:`badge ${s.is_active?"bg-success":"bg-secondary"} text-white`,children:s.is_active?"Active":"Inactive"})})]})}),e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{className:"form-label",children:[e.jsx(x,{size:16,className:"me-1 text-primary"}),"Portfolio Value Field"]}),e.jsx("div",{className:"alert alert-info mb-0",children:e.jsx("div",{className:"d-flex align-items-center",children:e.jsxs("div",{className:"flex-fill",children:[e.jsx("strong",{className:"text-dark",children:s.portfolio_value_field||"Not set"}),e.jsx("div",{className:"text-muted small mt-1",children:"This field is summed across all records to calculate the total portfolio value for this product."})]})})})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Created"}),e.jsx("div",{className:"form-control-plaintext",children:c(s.created_at)})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Last Updated"}),e.jsx("div",{className:"form-control-plaintext",children:c(s.updated_at)})]})})]})})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h3",{className:"card-title",children:[e.jsx(r,{size:18,className:"me-2"}),"Field Definitions"]})}),e.jsx("div",{className:"card-body",children:s.field_definitions&&Array.isArray(s.field_definitions)&&s.field_definitions.length>0?e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Field Name"}),e.jsx("th",{children:"Label"}),e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Required"}),e.jsx("th",{children:"Description"})]})}),e.jsx("tbody",{children:s.field_definitions.map((a,l)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("code",{children:a.name||`Field ${l+1}`})}),e.jsx("td",{children:a.label||a.name||`Field ${l+1}`}),e.jsx("td",{children:e.jsx("span",{className:`badge ${t(a.type)} text-white`,children:a.type})}),e.jsx("td",{children:a.required?e.jsx("span",{className:"badge bg-danger text-white",children:"Required"}):e.jsx("span",{className:"badge bg-secondary text-white",children:"Optional"})}),e.jsx("td",{children:e.jsx("small",{className:"text-muted",children:a.description||"-"})})]},a.name||l))})]})}):e.jsxs("div",{className:"empty",children:[e.jsx("div",{className:"empty-img",children:e.jsx(r,{size:48,className:"text-muted"})}),e.jsx("p",{className:"empty-title",children:"No field definitions"}),e.jsx("p",{className:"empty-subtitle text-muted",children:"This product doesn't have any field definitions yet."})]})})]})}),s.formulas&&s.formulas.length>0&&e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Associated Formulas"})}),e.jsx("div",{className:"card-body",children:e.jsx("div",{className:"row",children:s.formulas.map(a=>e.jsx("div",{className:"col-md-6 mb-3",children:e.jsx("div",{className:"card card-sm",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsxs("div",{className:"flex-fill",children:[e.jsx("div",{className:"font-weight-medium",children:e.jsx(i,{href:`/formulas/${a.id}`,className:"text-decoration-none",children:a.name})}),e.jsx("div",{className:"text-muted small",children:a.description}),e.jsxs("div",{className:"text-muted small",children:["Returns: ",a.return_type]})]}),e.jsx("div",{className:"ms-auto",children:e.jsx("span",{className:`badge ${a.is_active?"bg-success":"bg-secondary"} text-white`,children:a.is_active?"Active":"Inactive"})})]})})})},a.id))})})]})}),s.product_data&&s.product_data.length>0&&e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Data Statistics"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"subheader",children:"Total Records"}),e.jsx("div",{className:"ms-auto",children:e.jsx("div",{className:"h1 mb-0",children:s.product_data.length})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"subheader",children:"Latest Record"}),e.jsx("div",{className:"ms-auto",children:e.jsx("div",{className:"text-muted",children:c((d=s.product_data[0])==null?void 0:d.created_at)})})]})})]})})]})})]})})})]})}export{p as default};

import{j as e,L as i}from"./app-BkeQkwCz.js";import{A as f}from"./AppLayout-QgBVyLMh.js";import{P as p}from"./ProductForm-eOWwUB-i.js";import{u as t}from"./useFormWithCsrf-CQ_fNGy5.js";import{I as b}from"./IconArrowLeft-0rt3x0IP.js";import{I as N}from"./IconTrash-DY-55J-g.js";import"./IconPlus-Cs3MX6an.js";function E({product:s,categories:n,field_types:l}){const{data:c,setData:d,put:o,processing:a,errors:m}=t({name:s.name||"",description:s.description||"",category:s.category||"",field_definitions:s.field_definitions||[],portfolio_value_field:s.portfolio_value_field||"",is_active:s.is_active??!0,_token:null}),{delete:h,processing:r}=t(),u=j=>{j.preventDefault(),o(`/products/${s.id}`,{onSuccess:()=>{}})},x=()=>{confirm("Are you sure you want to delete this product? This action cannot be undone.")&&h(`/products/${s.id}`)};return e.jsxs(f,{title:`Edit Product: ${s.name}`,children:[e.jsx("div",{className:"page-header d-print-none",children:e.jsx("div",{className:"container-xl",children:e.jsxs("div",{className:"row g-2 align-items-center",children:[e.jsxs("div",{className:"col",children:[e.jsx("nav",{"aria-label":"breadcrumb",children:e.jsxs("ol",{className:"breadcrumb",children:[e.jsx("li",{className:"breadcrumb-item",children:e.jsx(i,{href:"/products",children:"Products"})}),e.jsx("li",{className:"breadcrumb-item",children:e.jsx(i,{href:`/products/${s.id}`,children:s.name})}),e.jsx("li",{className:"breadcrumb-item active","aria-current":"page",children:"Edit"})]})}),e.jsx("div",{className:"page-pretitle",children:"Product Management"}),e.jsxs("h2",{className:"page-title",children:["Edit Product: ",s.name]})]}),e.jsx("div",{className:"col-auto ms-auto d-print-none",children:e.jsxs("div",{className:"btn-list",children:[e.jsxs(i,{href:`/products/${s.id}`,className:"btn",children:[e.jsx(b,{size:16,className:"me-1"}),"Back to Product"]}),e.jsxs("button",{type:"button",className:"btn btn-danger",onClick:x,disabled:r,children:[e.jsx(N,{size:16,className:"me-1"}),r?"Deleting...":"Delete"]})]})})]})})}),e.jsx("div",{className:"page-body",children:e.jsx("div",{className:"container-fluid px-3",children:e.jsx("div",{className:"row g-3",children:e.jsx("div",{className:"col-12",children:e.jsx("form",{onSubmit:u,children:e.jsx(p,{data:c,setData:d,errors:m,categories:n,field_types:l,processing:a,submitText:a?"Updating...":"Update Product",cancelUrl:`/products/${s.id}`})})})})})})]})}export{E as default};

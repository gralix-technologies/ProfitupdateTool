import{r,j as e,a as f}from"./app-BkeQkwCz.js";import{h as C,A as I,f as M,i as b,d as y,j as _,b as z}from"./AppLayout-QgBVyLMh.js";import{I as A}from"./IconRefresh-U6chIQJB.js";import{I as P}from"./IconDeviceFloppy-BoO_tT2I.js";import{I as D}from"./IconAlertCircle-WImK9GUn.js";import{I as E}from"./IconMail-hRfONb87.js";/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["path",{d:"M19 18a3.5 3.5 0 0 0 0 -7h-1a5 4.5 0 0 0 -11 -2a4.6 4.4 0 0 0 -2.1 8.4",key:"svg-0"}],["path",{d:"M12 13l0 9",key:"svg-1"}],["path",{d:"M9 19l3 3l3 -3",key:"svg-2"}]],q=C("outline","cloud-download","CloudDownload",L);function V({configurations:a,auth:R}){var o,h,x,p,j,N,v,u;const[l,i]=r.useState({app_name:((o=a==null?void 0:a.find(s=>s.key==="app_name"))==null?void 0:o.value)||"Portfolio Analytics Platform",app_url:((h=a==null?void 0:a.find(s=>s.key==="app_url"))==null?void 0:h.value)||"",mail_host:((x=a==null?void 0:a.find(s=>s.key==="mail_host"))==null?void 0:x.value)||"",mail_port:((p=a==null?void 0:a.find(s=>s.key==="mail_port"))==null?void 0:p.value)||"587",backup_frequency:((j=a==null?void 0:a.find(s=>s.key==="backup_frequency"))==null?void 0:j.value)||"daily",session_timeout:((N=a==null?void 0:a.find(s=>s.key==="session_timeout"))==null?void 0:N.value)||"120",max_login_attempts:((v=a==null?void 0:a.find(s=>s.key==="max_login_attempts"))==null?void 0:v.value)||"5",password_min_length:((u=a==null?void 0:a.find(s=>s.key==="password_min_length"))==null?void 0:u.value)||"8"}),[n,m]=r.useState(!1),[d,c]=r.useState(""),S=()=>{m(!0),c(""),f.post("/admin/settings",l,{onSuccess:()=>{c("Settings saved successfully!"),m(!1)},onError:s=>{c("Error saving settings. Please try again."),m(!1)}})},g=()=>{confirm("Are you sure you want to reset all settings to default values?")&&(i({app_name:"Portfolio Analytics Platform",app_url:"",mail_host:"",mail_port:"587",backup_frequency:"daily",session_timeout:"120",max_login_attempts:"5",password_min_length:"8"}),c("Settings reset to defaults."))},t=(s,k)=>{i(w=>({...w,[s]:k}))};return e.jsxs(I,{title:"System Settings",children:[e.jsx("div",{className:"page-header d-print-none",children:e.jsx("div",{className:"container-xl",children:e.jsxs("div",{className:"row g-2 align-items-center",children:[e.jsxs("div",{className:"col",children:[e.jsx("div",{className:"page-pretitle",children:"Admin"}),e.jsx("h2",{className:"page-title",children:"System Settings"})]}),e.jsx("div",{className:"col-auto ms-auto d-print-none",children:e.jsxs("div",{className:"btn-list",children:[e.jsxs("button",{className:"btn btn-outline-warning",onClick:g,children:[e.jsx(A,{size:16,className:"me-1"}),"Reset"]}),e.jsxs("button",{className:"btn btn-primary",onClick:S,disabled:n,children:[e.jsx(P,{size:16,className:"me-1"}),n?"Saving...":"Save Settings"]})]})})]})})}),e.jsx("div",{className:"page-body",children:e.jsxs("div",{className:"container-xl",children:[d&&e.jsxs("div",{className:`alert alert-${d.includes("Error")?"danger":"success"} alert-dismissible`,children:[e.jsxs("div",{className:"d-flex",children:[d.includes("Error")?e.jsx(D,{size:16,className:"me-2"}):e.jsx(M,{size:16,className:"me-2"}),d]}),e.jsx("button",{type:"button",className:"btn-close",onClick:()=>c("")})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h3",{className:"card-title",children:[e.jsx(b,{size:20,className:"me-2"}),"Application Settings"]})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Application Name"}),e.jsx("input",{type:"text",className:"form-control",value:l.app_name,onChange:s=>t("app_name",s.target.value),placeholder:"Enter application name"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Application URL"}),e.jsx("input",{type:"url",className:"form-control",value:l.app_url,onChange:s=>t("app_url",s.target.value),placeholder:"https://your-domain.com"})]})]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h3",{className:"card-title",children:[e.jsx(E,{size:20,className:"me-2"}),"Mail Configuration"]})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Mail Host"}),e.jsx("input",{type:"text",className:"form-control",value:l.mail_host,onChange:s=>t("mail_host",s.target.value),placeholder:"smtp.gmail.com"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Mail Port"}),e.jsx("input",{type:"number",className:"form-control",value:l.mail_port,onChange:s=>t("mail_port",s.target.value),placeholder:"587"})]})]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h3",{className:"card-title",children:[e.jsx(y,{size:20,className:"me-2"}),"Security Settings"]})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Session Timeout (minutes)"}),e.jsx("input",{type:"number",className:"form-control",value:l.session_timeout,onChange:s=>t("session_timeout",s.target.value),placeholder:"120"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Max Login Attempts"}),e.jsx("input",{type:"number",className:"form-control",value:l.max_login_attempts,onChange:s=>t("max_login_attempts",s.target.value),placeholder:"5"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Minimum Password Length"}),e.jsx("input",{type:"number",className:"form-control",value:l.password_min_length,onChange:s=>t("password_min_length",s.target.value),placeholder:"8"})]})]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h3",{className:"card-title",children:[e.jsx(q,{size:20,className:"me-2"}),"Backup & Maintenance"]})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Backup Frequency"}),e.jsxs("select",{className:"form-select",value:l.backup_frequency,onChange:s=>t("backup_frequency",s.target.value),children:[e.jsx("option",{value:"daily",children:"Daily"}),e.jsx("option",{value:"weekly",children:"Weekly"}),e.jsx("option",{value:"monthly",children:"Monthly"})]})]}),e.jsxs("div",{className:"alert alert-info",children:[e.jsx(_,{size:16,className:"me-2"}),e.jsx("strong",{children:"Database:"})," MySQL - ",(a==null?void 0:a.length)||0," configurations loaded"]})]})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h3",{className:"card-title",children:[e.jsx(_,{size:20,className:"me-2"}),"System Information"]})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsx(z,{size:16,className:"me-2 text-muted"}),e.jsx("strong",{children:"Database:"}),e.jsx("span",{className:"ms-2 text-muted",children:"MySQL"})]})}),e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsx(b,{size:16,className:"me-2 text-muted"}),e.jsx("strong",{children:"PHP Version:"}),e.jsx("span",{className:"ms-2 text-muted",children:"8.2+"})]})}),e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsx(y,{size:16,className:"me-2 text-muted"}),e.jsx("strong",{children:"Framework:"}),e.jsx("span",{className:"ms-2 text-muted",children:"Laravel"})]})})]})})]})]})})]})}export{V as default};
